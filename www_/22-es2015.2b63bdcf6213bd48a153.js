(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{bcbc:function(e,t,n){"use strict";n.r(t),n.d(t,"ScanBarcodeJobPageModule",(function(){return p}));var o=n("ofXK"),i=n("3Pt+"),r=n("tyNb"),s=n("c7TG"),a=n("mrSG"),c=n("WdVq"),d=n("SmVF"),l=n("HSMY"),h=n("fXoL"),m=n("e8h1");function b(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"ion-item"),h["\u0275\u0275elementStart"](1,"ion-row"),h["\u0275\u0275elementStart"](2,"ion-col",4),h["\u0275\u0275elementStart"](3,"ion-label"),h["\u0275\u0275text"](4),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275advance"](4),h["\u0275\u0275textInterpolate"](e)}}const u=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i,r,s,a){this.api=e,this.barcodeScanner=t,this.toast=n,this.storage=o,this.router=i,this.route=r,this.loadingController=s,this.toastController=a,this.barcodePush=[],this.connote_new=[]}ngOnInit(){this.scan()}scan(){this.options={prompt:"Place a barcode inside the scan area",disableSuccessBeep:!1,resultDisplayDuration:500,saveHistory:!0,showTorchButton:!0,showFlipCameraButton:!0},this.barcodeScanner.scan(this.options).then(e=>{if(this.barcode=e.text,e.cancelled)return console.log("User cancelled the action!"),!1;""!=this.barcode&&(this.barcodePush.push(this.barcode),this.storage.set("keyOfDataJob",JSON.stringify(this.barcodePush)),this.alert(this.barcode),this.connote_new.push(this.barcode),this.sendData(this.barcode)),this.scan()},e=>{this.toast.show(e,"5000","center").subscribe(e=>{console.log(e)})})}submitForm(){return Object(a.b)(this,void 0,void 0,(function*(){""!=this.barcode&&this.sendData(this.barcode)}))}sendData(e){return Object(a.b)(this,void 0,void 0,(function*(){for(var t=!1,n=0;n<=this.barcodePush.length-1;n++)this.barcodePush[n]==this.barcode&&(t=!0);if(t);else{const t=yield this.loadingController.create({});yield t.present(),this.storage.get("emp_key").then(n=>{this.emp_key=n,this.api.createJob(e,this.emp_key).subscribe(e=>{console.log(e),this.alert(e.result),this.barcodePush.push(this.barcode),t.dismiss()},e=>{console.log(e),t.dismiss()})})}}))}removeBarcode(){this.storage.set("keyOfDataJob","")}alert(e){return Object(a.b)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:"Add connote "+e,duration:2e3})).present()}))}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](l.a),h["\u0275\u0275directiveInject"](c.a),h["\u0275\u0275directiveInject"](d.a),h["\u0275\u0275directiveInject"](m.b),h["\u0275\u0275directiveInject"](r.f),h["\u0275\u0275directiveInject"](r.a),h["\u0275\u0275directiveInject"](s.E),h["\u0275\u0275directiveInject"](s.K))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["app-scan"]],decls:19,vars:3,consts:[[1,"header"],["slot","start"],[3,"ngSubmit"],["form","ngForm"],["size","12"],["name","barcode","type","text","placeholder","\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14","required","",3,"ngModel","ngModelChange"],["expand","full","type","submit","color","primary",3,"disabled"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"ion-header"),h["\u0275\u0275elementStart"](1,"ion-toolbar",0),h["\u0275\u0275elementStart"](2,"ion-buttons",1),h["\u0275\u0275element"](3,"ion-back-button"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"ion-title"),h["\u0275\u0275text"](5,"\u0e41\u0e2a\u0e01\u0e19\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e14 Connote \u0e2a\u0e48\u0e07\u0e02\u0e2d\u0e07"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"ion-content"),h["\u0275\u0275elementStart"](7,"form",2,3),h["\u0275\u0275listener"]("ngSubmit",(function(){return t.submitForm()})),h["\u0275\u0275elementStart"](9,"ion-grid"),h["\u0275\u0275elementStart"](10,"ion-row"),h["\u0275\u0275elementStart"](11,"ion-col",4),h["\u0275\u0275elementStart"](12,"ion-item"),h["\u0275\u0275elementStart"](13,"ion-input",5),h["\u0275\u0275listener"]("ngModelChange",(function(e){return t.barcode=e})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](14,"ion-row"),h["\u0275\u0275elementStart"](15,"ion-col",4),h["\u0275\u0275elementStart"](16,"ion-button",6),h["\u0275\u0275text"](17,"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19 \u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](18,b,5,1,"ion-item",7),h["\u0275\u0275elementEnd"]()),2&e){const e=h["\u0275\u0275reference"](8);h["\u0275\u0275advance"](13),h["\u0275\u0275property"]("ngModel",t.barcode),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("disabled",e.invalid),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngForOf",t.barcodePush)}},directives:[s.n,s.B,s.g,s.c,s.d,s.A,s.k,i.j,i.e,i.f,s.m,s.w,s.j,s.q,s.p,s.J,i.i,i.d,i.g,s.f,o.i,s.r],styles:[".header[_ngcontent-%COMP%]{padding:20px 0;--background:#3f51b5}.header[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff}"]}),e})()}];let p=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.b,i.b,s.C,r.h.forChild(u)]]}),e})()}}]);