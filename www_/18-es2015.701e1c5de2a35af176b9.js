(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{wbKT:function(e,t,n){"use strict";n.r(t),n.d(t,"JobDetailPageModule",(function(){return f}));var o=n("ofXK"),i=n("3Pt+"),l=n("tyNb"),r=n("c7TG"),a=n("mrSG"),c=n("HSMY"),d=n("Wwn5"),s=n("fXoL"),m=n("e8h1");function u(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ion-row"),s["\u0275\u0275elementStart"](1,"ion-col",9),s["\u0275\u0275elementStart"](2,"ion-button",10),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275nextContext"]();return t.notAccept(t.detail.id)})),s["\u0275\u0275text"](3,"\u0e44\u0e21\u0e48\u0e23\u0e31\u0e1a"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"ion-col",11),s["\u0275\u0275elementStart"](5,"ion-button",12),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().accept()})),s["\u0275\u0275text"](6,"\u0e23\u0e31\u0e1a"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function b(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ion-row"),s["\u0275\u0275elementStart"](1,"ion-col",7),s["\u0275\u0275elementStart"](2,"ion-button",13),s["\u0275\u0275text"](3,"\u0e40\u0e1e\u0e34\u0e48\u0e21/\u0e41\u0e01\u0e49\u0e44\u0e02 connote"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275propertyInterpolate1"]("routerLink","/members/scan/",e.id_booking,"")}}function p(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ion-row"),s["\u0275\u0275elementStart"](1,"ion-col",3),s["\u0275\u0275elementStart"](2,"ion-button",10),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().jobCancle()})),s["\u0275\u0275text"](3,"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"ion-col",3),s["\u0275\u0275elementStart"](5,"ion-button",12),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275nextContext"]();return t.jobConfirm(t.detail.id_booking)})),s["\u0275\u0275text"](6,"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e23\u0e31\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function h(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"ion-row"),s["\u0275\u0275elementStart"](1,"ion-col",7),s["\u0275\u0275elementStart"](2,"ion-button",14),s["\u0275\u0275text"](3,"\u0e04\u0e25\u0e34\u0e01\u0e17\u0e35\u0e48\u0e19\u0e35\u0e48\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}const g=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i,l){this.api=e,this.loadingController=t,this.route=n,this.router=o,this.callNumber=i,this.storage=l,this.detail={}}ngOnInit(){this.getJobDetail()}ionViewWillEnter(){this.getJobDetail()}getJobDetail(){return Object(a.b)(this,void 0,void 0,(function*(){this.id_booking=this.route.snapshot.paramMap.get("id");const e=yield this.loadingController.create({});yield e.present(),yield this.api.getJobDetailCount(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.detail=t.data,this.count_connotes=t.connote_count,console.log(this.connotes),e.dismiss()},t=>{console.log(t),e.dismiss()}),this.storage.get("keyOfData").then(e=>{""!=e&&this.storage.set("keyOfData","")})}))}callNow(e){return Object(a.b)(this,void 0,void 0,(function*(){this.callNumber.callNumber(e,!0).then(e=>console.log("Launched dialer!",e)).catch(e=>console.log("Error launching dialer",e))}))}notAccept(e){return Object(a.b)(this,void 0,void 0,(function*(){const e=yield this.loadingController.create({});yield e.present(),yield this.api.updateJob(this.route.snapshot.paramMap.get("id"),"pending").subscribe(t=>{this.getJobDetail(),e.dismiss()},t=>{console.log(t),e.dismiss()})}))}accept(){return Object(a.b)(this,void 0,void 0,(function*(){const e=yield this.loadingController.create({});yield e.present(),yield this.api.updateJob(this.route.snapshot.paramMap.get("id"),"inprogress").subscribe(t=>{this.getJobDetail(),e.dismiss()},t=>{console.log(t),e.dismiss()})}))}jobCancle(){return Object(a.b)(this,void 0,void 0,(function*(){this.connote_new=[],this.router.navigate(["members/dashboard/job"])}))}jobConfirm(e){return Object(a.b)(this,void 0,void 0,(function*(){this.router.navigate(["members/job-confirm/"+e])}))}listJob(){return Object(a.b)(this,void 0,void 0,(function*(){this.router.navigate(["members/dashboard/job"])}))}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](r.E),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](l.f),s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](m.b))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-job-detail"]],decls:42,vars:13,consts:[[1,"header"],["slot","start"],["color","warning","expand","full",3,"click"],["size","6"],["button","","icon-start","","ion-button","","full","",3,"click"],["name","call"],[1,"icon","ion-ios-telephone"],["size","12"],[4,"ngIf"],["size","5"],["color","danger","expand","full",3,"click"],["size","7"],["color","primary","expand","full",3,"click"],["color","dark","expand","full",3,"routerLink"],["color","danger","expand","full","routerLink","/members/dashboard/job"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"ion-header"),s["\u0275\u0275elementStart"](1,"ion-toolbar",0),s["\u0275\u0275elementStart"](2,"ion-buttons",1),s["\u0275\u0275elementStart"](3,"ion-button",2),s["\u0275\u0275listener"]("click",(function(){return t.listJob()})),s["\u0275\u0275text"](4,"< \u0e01\u0e25\u0e31\u0e1a"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"ion-title"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"ion-content"),s["\u0275\u0275elementStart"](8,"ion-card"),s["\u0275\u0275elementStart"](9,"ion-card-content"),s["\u0275\u0275elementStart"](10,"ion-grid"),s["\u0275\u0275elementStart"](11,"ion-row"),s["\u0275\u0275elementStart"](12,"ion-col",3),s["\u0275\u0275elementStart"](13,"ion-label"),s["\u0275\u0275text"](14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"ion-col",3),s["\u0275\u0275elementStart"](16,"ion-label"),s["\u0275\u0275elementStart"](17,"a",4),s["\u0275\u0275listener"]("click",(function(){return t.callNow(t.detail.mobile)})),s["\u0275\u0275element"](18,"ion-icon",5),s["\u0275\u0275element"](19,"i",6),s["\u0275\u0275elementStart"](20,"strong"),s["\u0275\u0275text"](21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"ion-col",7),s["\u0275\u0275elementStart"](23,"ion-label"),s["\u0275\u0275text"](24),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"ion-col",7),s["\u0275\u0275elementStart"](26,"ion-label"),s["\u0275\u0275text"](27),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"ion-col",7),s["\u0275\u0275elementStart"](29,"ion-label"),s["\u0275\u0275text"](30),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](31,u,7,0,"ion-row",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"ion-card"),s["\u0275\u0275elementStart"](33,"ion-card-content"),s["\u0275\u0275elementStart"](34,"ion-grid"),s["\u0275\u0275elementStart"](35,"ion-row"),s["\u0275\u0275elementStart"](36,"ion-col",7),s["\u0275\u0275elementStart"](37,"b"),s["\u0275\u0275text"](38),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](39,b,4,1,"ion-row",8),s["\u0275\u0275template"](40,p,7,0,"ion-row",8),s["\u0275\u0275template"](41,h,4,0,"ion-row",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate1"]("\u0e23\u0e31\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 ",t.detail.key,""),s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](t.detail.person),s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](t.detail.mobile),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](t.detail.customer_name),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate3"]("",t.detail.district," ",t.detail.province," ",t.detail.postcode,""),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("\u0e40\u0e27\u0e25\u0e32\u0e23\u0e31\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 ",t.detail.get_datetime,""),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","new"==t.detail.status),s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate1"]("\u0e08\u0e33\u0e19\u0e27\u0e19 connote \u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 ",t.count_connotes," connote"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","inprogress"==t.detail.status),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","inprogress"==t.detail.status),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","pending"==t.detail.status))},directives:[r.n,r.B,r.g,r.f,r.A,r.k,r.h,r.i,r.m,r.w,r.j,r.r,r.o,o.j,r.I,l.g],styles:[".header[_ngcontent-%COMP%]{padding:20px 0;--background:#3f51b5}.header[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff}"]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.b,i.b,r.C,l.h.forChild(g)]]}),e})()}}]);