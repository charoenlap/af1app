{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{TdYi:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"SendDetailPageModule\",(function(){return send_detail_module_SendDetailPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),router=__webpack_require__(\"tyNb\"),fesm5=__webpack_require__(\"c7TG\"),tslib_es6=__webpack_require__(\"mrSG\"),rest_api_service=__webpack_require__(\"HSMY\"),ngx=__webpack_require__(\"Wwn5\"),core=__webpack_require__(\"fXoL\"),ionic_storage=__webpack_require__(\"e8h1\");function SendDetailPage_ion_row_21_Template(rf,ctx){if(1&rf){const _r5=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"ion-row\"),core[\"ɵɵelementStart\"](1,\"ion-col\",6),core[\"ɵɵelementStart\"](2,\"ion-button\",7),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r5);const ctx_r4=core[\"ɵɵnextContext\"]();return ctx_r4.notAccept(ctx_r4.detail.id)})),core[\"ɵɵtext\"](3,\"ไม่รับ\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](4,\"ion-col\",8),core[\"ɵɵelementStart\"](5,\"ion-button\",9),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r5),core[\"ɵɵnextContext\"]().accept()})),core[\"ɵɵtext\"](6,\"รับ\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()}}function SendDetailPage_ion_item_25_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"ion-item\"),core[\"ɵɵelementStart\"](1,\"ion-row\"),core[\"ɵɵelementStart\"](2,\"ion-col\",3),core[\"ɵɵelementStart\"](3,\"ion-label\"),core[\"ɵɵtext\"](4),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf){const result_r7=ctx.$implicit;core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](result_r7)}}function SendDetailPage_ion_row_26_Template(rf,ctx){if(1&rf){const _r9=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"ion-row\"),core[\"ɵɵelementStart\"](1,\"ion-col\",10),core[\"ɵɵelementStart\"](2,\"ion-button\",7),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r9),core[\"ɵɵnextContext\"]().sendCancle()})),core[\"ɵɵtext\"](3,\"ยกเลิก\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](4,\"ion-col\",10),core[\"ɵɵelementStart\"](5,\"ion-button\",9),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r9);const ctx_r10=core[\"ɵɵnextContext\"]();return ctx_r10.sendConfirm(ctx_r10.detail.id_jobs)})),core[\"ɵɵtext\"](6,\"ยืนยัน\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()}}function SendDetailPage_ion_row_27_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"ion-row\"),core[\"ɵɵelementStart\"](1,\"ion-col\",3),core[\"ɵɵelementStart\"](2,\"ion-button\",11),core[\"ɵɵtext\"](3,\"คลิกที่นี่เพื่อย้อนกลับ\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]())}const routes=[{path:\"\",component:(()=>{class SendDetailPage{constructor(api,loadingController,route,router,callNumber,storage){this.api=api,this.loadingController=loadingController,this.route=route,this.router=router,this.callNumber=callNumber,this.storage=storage,this.detail={}}ngOnInit(){this.getSendDetail()}ionViewWillEnter(){this.storage.get(\"keyOfData\").then(val=>{\"\"!=val&&(this.connote_new=JSON.parse(val))})}getSendDetail(){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){const loading=yield this.loadingController.create({});yield loading.present(),yield this.api.getSendDetail(this.route.snapshot.paramMap.get(\"id\")).subscribe(res=>{this.detail=res.data,this.connotes=res.connotes,console.log(this.connotes),loading.dismiss()},err=>{console.log(err),loading.dismiss()}),this.storage.get(\"keyOfDataSend\").then(val=>{\"\"!=val&&(this.connote_new=JSON.parse(val))})}))}callNow(number){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){this.callNumber.callNumber(number,!0).then(res=>console.log(\"Launched dialer!\",res)).catch(err=>console.log(\"Error launching dialer\",err))}))}notAccept(id){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){const loading=yield this.loadingController.create({});yield loading.present(),yield this.api.updateSend(this.route.snapshot.paramMap.get(\"id\"),\"pending\").subscribe(res=>{this.getSendDetail(),loading.dismiss()},err=>{console.log(err),loading.dismiss()})}))}accept(){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){const loading=yield this.loadingController.create({});yield loading.present(),yield this.api.updateSend(this.route.snapshot.paramMap.get(\"id\"),\"inprogress\").subscribe(res=>{console.log(\">>>\"),console.log(res),this.getSendDetail(),loading.dismiss()},err=>{console.log(err),loading.dismiss()})}))}sendCancle(){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){this.router.navigate([\"members/send-detail/\"+this.route.snapshot.paramMap.get(\"id\")])}))}sendConfirm(id_booking){return Object(tslib_es6.b)(this,void 0,void 0,(function*(){this.router.navigate([\"members/send-confirm/\"+id_booking])}))}}return SendDetailPage.ɵfac=function(t){return new(t||SendDetailPage)(core[\"ɵɵdirectiveInject\"](rest_api_service.a),core[\"ɵɵdirectiveInject\"](fesm5.E),core[\"ɵɵdirectiveInject\"](router.a),core[\"ɵɵdirectiveInject\"](router.f),core[\"ɵɵdirectiveInject\"](ngx.a),core[\"ɵɵdirectiveInject\"](ionic_storage.b))},SendDetailPage.ɵcmp=core[\"ɵɵdefineComponent\"]({type:SendDetailPage,selectors:[[\"app-send-detail\"]],decls:28,vars:9,consts:[[1,\"header\"],[\"slot\",\"start\"],[\"color\",\"warning\",\"expand\",\"full\",\"routerLink\",\"/members/dashboard/send\"],[\"size\",\"12\"],[4,\"ngIf\"],[4,\"ngFor\",\"ngForOf\"],[\"size\",\"5\"],[\"color\",\"danger\",\"expand\",\"full\",3,\"click\"],[\"size\",\"7\"],[\"color\",\"primary\",\"expand\",\"full\",3,\"click\"],[\"size\",\"6\"],[\"color\",\"danger\",\"expand\",\"full\",\"routerLink\",\"/members/dashboard/send\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"ion-header\"),core[\"ɵɵelementStart\"](1,\"ion-toolbar\",0),core[\"ɵɵelementStart\"](2,\"ion-buttons\",1),core[\"ɵɵelementStart\"](3,\"ion-button\",2),core[\"ɵɵtext\"](4,\"< กลับ\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](5,\"ion-title\"),core[\"ɵɵtext\"](6,\"ส่งสินค้า\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](7,\"ion-content\"),core[\"ɵɵelementStart\"](8,\"ion-card\"),core[\"ɵɵelementStart\"](9,\"ion-card-content\"),core[\"ɵɵelementStart\"](10,\"ion-grid\"),core[\"ɵɵelementStart\"](11,\"ion-row\"),core[\"ɵɵelementStart\"](12,\"ion-col\",3),core[\"ɵɵelementStart\"](13,\"ion-label\"),core[\"ɵɵtext\"](14),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](15,\"ion-col\",3),core[\"ɵɵelementStart\"](16,\"ion-label\"),core[\"ɵɵtext\"](17),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](18,\"ion-col\",3),core[\"ɵɵelementStart\"](19,\"ion-label\"),core[\"ɵɵtext\"](20),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](21,SendDetailPage_ion_row_21_Template,7,0,\"ion-row\",4),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](22,\"ion-card\"),core[\"ɵɵelementStart\"](23,\"ion-card-content\"),core[\"ɵɵelementStart\"](24,\"ion-grid\"),core[\"ɵɵtemplate\"](25,SendDetailPage_ion_item_25_Template,5,1,\"ion-item\",5),core[\"ɵɵtemplate\"](26,SendDetailPage_ion_row_26_Template,7,0,\"ion-row\",4),core[\"ɵɵtemplate\"](27,SendDetailPage_ion_row_27_Template,4,0,\"ion-row\",4),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](14),core[\"ɵɵtextInterpolate\"](ctx.detail.person),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](ctx.detail.address),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate3\"](\"\",ctx.detail.district,\" \",ctx.detail.province,\" \",ctx.detail.postcode,\"\"),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",\"new\"==ctx.detail.status),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngForOf\",ctx.connote_new),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",\"inprogress\"==ctx.detail.status),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",\"pending\"==ctx.detail.status))},directives:[fesm5.n,fesm5.B,fesm5.g,fesm5.f,fesm5.I,router.g,fesm5.A,fesm5.k,fesm5.h,fesm5.i,fesm5.m,fesm5.w,fesm5.j,fesm5.r,common.j,common.i,fesm5.q],styles:[\".header[_ngcontent-%COMP%]{padding:20px 0;--background:#3f51b5}.header[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff}\"]}),SendDetailPage})()}];let send_detail_module_SendDetailPageModule=(()=>{class SendDetailPageModule{}return SendDetailPageModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:SendDetailPageModule}),SendDetailPageModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||SendDetailPageModule)},imports:[[common.b,fesm2015_forms.b,fesm5.C,router.h.forChild(routes)]]}),SendDetailPageModule})()}}]);","extractedComments":[]}