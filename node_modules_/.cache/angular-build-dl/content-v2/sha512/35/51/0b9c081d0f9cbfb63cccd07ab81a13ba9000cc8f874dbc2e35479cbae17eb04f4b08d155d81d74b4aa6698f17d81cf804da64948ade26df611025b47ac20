{"version":3,"sources":["webpack:///src/app/members/dashboard/send-detail/send-detail.page.ts","webpack:///src/app/members/dashboard/send-detail/send-detail.module.ts","webpack:///src/app/members/dashboard/send-detail/send-detail.page.scss","webpack:///src/app/members/dashboard/send-detail/send-detail.page.html"],"names":["SendDetailPage","api","loadingController","route","router","callNumber","storage","detail","getSendDetail","get","then","val","connote_new","JSON","parse","create","loading","present","snapshot","paramMap","subscribe","res","data","connotes","console","log","dismiss","err","number","id","updateSend","navigate","id_booking","selector","template","routes","path","component","SendDetailPageModule","imports","forChild","declarations"],"mappings":"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","file":"dashboard-send-detail-send-detail-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { RestApiService } from '../../../rest-api.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-send-detail',\n  templateUrl: './send-detail.page.html',\n  styleUrls: ['./send-detail.page.scss'],\n})\nexport class SendDetailPage implements OnInit {\n\tdetail: any = {};\n\tconnotes: any;\n\tconnote_new:any;\n  constructor(public api: RestApiService,\n  public loadingController: LoadingController,\n  public route: ActivatedRoute,\n  public router: Router,\n  public callNumber: CallNumber,\n  private storage: Storage,\n  ) { }\n\n  ngOnInit() {\n  \tthis.getSendDetail();\n  }\n  ionViewWillEnter(){\n    this.storage.get('keyOfData').then((val) => {\n    \tif(val!=''){\n\t    \tthis.connote_new = JSON.parse(val);\n\t    }\n    });\n  }\n  async getSendDetail() {\n\t  const loading = await this.loadingController.create({\n\t    // content: 'Loading'\n\t  });\n\t  await loading.present();\n\t  await this.api.getSendDetail(this.route.snapshot.paramMap.get('id'))\n\t    .subscribe(res => {\n\t      // console.log(res);\n\t      this.detail = res.data;\n\t      // console.log(res.data.connotes);\n\t      this.connotes = res.connotes;\n\t      console.log(this.connotes);\n\t      // console.log(this.detail);\n\t      loading.dismiss();\n\t    }, err => {\n\t      console.log(err);\n\t      loading.dismiss();\n\t    });\n\t    this.storage.get('keyOfDataSend').then((val) => {\n\t    \t// console.log(val);\n\t    \tif(val!=''){\n\t\t    \tthis.connote_new = JSON.parse(val);\n\t\t    }\n\t      // console.log(JSON.parse(val));\n\t      // this.textPrint = JSON.parse(val);\n\t    });\n\t}\n\tasync callNow(number) {\n\t    this.callNumber.callNumber(number, true)\n\t      .then(res => console.log('Launched dialer!', res))\n\t      .catch(err => console.log('Error launching dialer', err));\n\t}\n\tasync notAccept(id){\n\t\tconst loading = await this.loadingController.create({\n\t    // content: 'Loading'\n\t  \t});\n\t\tawait loading.present();\n\t  \tawait this.api.updateSend(this.route.snapshot.paramMap.get('id'),'pending')\n\t    .subscribe(res => {\n\t      this.getSendDetail();\n\t      loading.dismiss();\n\t      // this.router.navigateByUrl('/members/dashboard/send');\n\t      // this.router.navigate(['/members/dashboard/send']);\n\t    }, err => {\n\t      console.log(err);\n\t      loading.dismiss();\n\t    });\n\t}\n\tasync accept(){\n\t\tconst loading = await this.loadingController.create({\n\t    // content: 'Loading'\n\t  \t});\n\t\tawait loading.present();\n\t  \tawait this.api.updateSend(this.route.snapshot.paramMap.get('id'),'inprogress')\n\t    .subscribe(res => {\n\t    \tconsole.log('>>>');\n\t    \tconsole.log(res);\n\t      \tthis.getSendDetail();\n\t      \n\t      \tloading.dismiss();\n\t      // this.router.navigateByUrl('/members/dashboard/send');\n\t      // this.router.navigate(['/members/dashboard/send']);\n\t    }, err => {\n\t      console.log(err);\n\t      loading.dismiss();\n\t    });\n\t}\n\tasync sendCancle(){\n\t\tthis.router.navigate(['members/send-detail/'+this.route.snapshot.paramMap.get('id')]);\n\t}\n\tasync sendConfirm(id_booking){\n\t\tthis.router.navigate(['members/send-confirm/'+id_booking]);\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SendDetailPage } from './send-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SendDetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SendDetailPage]\n})\nexport class SendDetailPageModule {}\n","export default \".header {\\n  padding: 20px 0;\\n  --background: #3f51b5;\\n}\\n\\n.header ion-title,\\n.header ion-back-button {\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9kYXNoYm9hcmQvc2VuZC1kZXRhaWwvc2VuZC1kZXRhaWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsZUFBQTtFQUNBLHFCQUFBO0FBQ0Q7O0FBQ0E7O0VBRUMsV0FBQTtBQUVEIiwiZmlsZSI6InNyYy9hcHAvbWVtYmVycy9kYXNoYm9hcmQvc2VuZC1kZXRhaWwvc2VuZC1kZXRhaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlciB7XHJcblx0cGFkZGluZzogMjBweCAwO1xyXG5cdC0tYmFja2dyb3VuZDogIzNmNTFiNTtcclxufVxyXG4uaGVhZGVyIGlvbi10aXRsZSxcclxuLmhlYWRlciBpb24tYmFjay1idXR0b24ge1xyXG5cdGNvbG9yOiAjZmZmO1xyXG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar class=\\\"header\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"warning\\\" expand=\\\"full\\\" routerLink=\\\"/members/dashboard/send\\\">< กลับ</ion-button>\\n    </ion-buttons>\\n    <ion-title>ส่งสินค้า</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-card>\\n\\t  <ion-card-content>\\n\\t    <ion-grid >\\n\\t        <ion-row>\\n\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t\\t<ion-label>{{detail.person}}</ion-label>\\n\\t        \\t</ion-col>\\n\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t\\t<ion-label>{{detail.address}}</ion-label>\\n\\t        \\t</ion-col>\\n\\t        \\t<ion-col size=\\\"12\\\">\\n\\t        \\t\\t<ion-label>{{detail.district}} {{detail.province}} {{detail.postcode}}</ion-label>\\n\\t        \\t</ion-col>\\n\\t        </ion-row>\\n\\t        <ion-row *ngIf=\\\"detail.status == 'new'\\\">\\n\\t\\t\\t\\t<ion-col size=\\\"5\\\">\\n\\t\\t\\t\\t\\t<ion-button color=\\\"danger\\\" expand=\\\"full\\\" (click)=\\\"notAccept(detail.id)\\\">ไม่รับ</ion-button>\\n\\t        \\t</ion-col>\\n\\t        \\t<ion-col size=\\\"7\\\">\\n\\t\\t\\t\\t\\t<ion-button color=\\\"primary\\\" expand=\\\"full\\\" (click)=\\\"accept()\\\">รับ</ion-button>\\n\\t        \\t</ion-col>\\n\\t        </ion-row>\\n\\t\\t</ion-grid>\\n\\t  </ion-card-content>\\n\\t</ion-card>\\n\\t<ion-card>\\n\\t  \\t<ion-card-content>\\n\\t    \\t<ion-grid >\\n\\t\\t\\t    <ion-item *ngFor=\\\"let result of connote_new\\\">\\n\\t\\t    \\t\\t<ion-row>\\n\\t\\t\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-label>{{result}}</ion-label>\\n\\t\\t\\t        \\t</ion-col>\\n\\t\\t\\t        </ion-row>\\n\\t\\t\\t    </ion-item>\\n\\t\\t\\t    \\n\\t\\t\\t\\t<ion-row *ngIf=\\\"detail.status == 'inprogress'\\\">\\n\\t\\t        \\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t\\t\\t<ion-button color=\\\"danger\\\" expand=\\\"full\\\" (click)=\\\"sendCancle()\\\">ยกเลิก</ion-button>\\n\\t\\t        \\t</ion-col>\\n\\t\\t        \\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t\\t\\t<ion-button color=\\\"primary\\\" expand=\\\"full\\\" (click)=\\\"sendConfirm(detail.id_jobs)\\\">ยืนยัน</ion-button>\\n\\t\\t        \\t</ion-col>\\n\\t\\t        </ion-row>\\n\\t\\t        <ion-row *ngIf=\\\"detail.status == 'pending'\\\">\\n\\t\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t\\t\\t<ion-button color=\\\"danger\\\" expand=\\\"full\\\"  routerLink=\\\"/members/dashboard/send\\\">คลิกที่นี่เพื่อย้อนกลับ</ion-button>\\n\\t\\t        \\t</ion-col>\\n\\t\\t        </ion-row>\\n\\t        </ion-grid>\\n\\t  \\t</ion-card-content>\\n\\t</ion-card>\\n</ion-content>\\n\";"]}