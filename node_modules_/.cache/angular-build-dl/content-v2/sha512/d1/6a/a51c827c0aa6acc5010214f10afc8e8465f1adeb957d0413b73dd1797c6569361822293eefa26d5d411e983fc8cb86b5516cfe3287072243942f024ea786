(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{Asgv:function(e,t,n){"use strict";n.r(t),n.d(t,"SendConfirmPageModule",(function(){return E}));var i=n("ofXK"),a=n("3Pt+"),r=n("tyNb"),o=n("c7TG"),s=n("mrSG"),l=n("BSjz"),c=n("KqBo"),d=n("HSMY"),m=n("fXoL"),u=n("e8h1"),g=n("tk/3"),p=n("Zw0B");function h(e,t){if(1&e&&m["\u0275\u0275element"](0,"img",14),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("src",e.base64Image,m["\u0275\u0275sanitizeUrl"])}}function S(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ion-button",6),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().Upload()})),m["\u0275\u0275elementStart"](1,"ion-icon",8),m["\u0275\u0275text"](2," Upload"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}const f=function(e){return{"drawing-active":e}},b=[{path:"",component:(()=>{class e{constructor(e,t,n,i,a,r,o,s,l){this.navController=e,this.storage=t,this.toastCtrl=n,this.api=i,this.loadingController=a,this.camera=r,this.route=o,this.http=s,this.router=l,this.signature="",this.isDrawing=!1,this.signaturePadOptions={minWidth:2,canvasWidth:400,canvasHeight:200,backgroundColor:"#f6fbff",penColor:"#666a73"}}ngOnInit(){}ionViewDidEnter(){this.signaturePad.clear(),this.storage.get("savedSignature").then(e=>{this.signature=e})}drawComplete(){this.isDrawing=!1}drawStart(){this.isDrawing=!0}savePad(){return Object(s.b)(this,void 0,void 0,(function*(){this.signature=this.signaturePad.toDataURL("png",80),this.storage.set("savedSignature",this.signature);const e=yield this.loadingController.create({});this.connote_new_string_url="",this.storage.get("keyOfDataSend").then(e=>{this.objVal=e}),yield e.present(),this.signature&&(this.signature=this.signature.replace(/data/gi,"")),this.base64Image&&(this.base64Image=this.base64Image.replace(/data/gi,""));const t=new FormData;t.append("signature",this.signature),t.append("barcode",this.objVal),t.append("image",this.base64Image),t.append("comment",this.comment),t.append("jobs_id",this.route.snapshot.paramMap.get("id")),yield this.api.confirmSend(t,this.route.snapshot.paramMap.get("id"),this.objVal).subscribe(t=>{this.sendDetail=t,this.storage.set("keyOfDataSend",""),e.dismiss(),console.log(t),"success"==t.result&&this.router.navigate(["members/dashboard/send"])},t=>{console.log(t),e.dismiss()})}))}clearPad(){this.signaturePad.clear()}AccessCamera(){this.camera.getPicture({targetWidth:512,targetHeight:512,correctOrientation:!0,sourceType:this.camera.PictureSourceType.CAMERA,destinationType:this.camera.DestinationType.DATA_URL}).then(e=>{this.base64Image="data:image/jpeg;base64,"+e,this.picture=e},e=>{console.log(e)})}AccessGallery(){this.camera.getPicture({sourceType:this.camera.PictureSourceType.SAVEDPHOTOALBUM,destinationType:this.camera.DestinationType.DATA_URL}).then(e=>{this.base64Image="data:image/jpeg;base64,"+e,this.picture=e},e=>{console.log(e)})}Upload(){}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](o.F),m["\u0275\u0275directiveInject"](u.b),m["\u0275\u0275directiveInject"](o.K),m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](o.E),m["\u0275\u0275directiveInject"](c.a),m["\u0275\u0275directiveInject"](r.a),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](r.f))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-send-confirm"]],viewQuery:function(e,t){var n;1&e&&m["\u0275\u0275viewQuery"](l.SignaturePad,!0,!1),2&e&&m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.signaturePad=n.first)},decls:38,vars:7,consts:[[1,"header"],["slot","start"],["padding","","no-bounce",""],[1,"title"],[3,"ngClass"],[3,"options","onBeginEvent","onEndEvent"],["color","primary",3,"click"],["name","camera"],["name","image"],[3,"src",4,"ngIf"],["color","primary",3,"click",4,"ngIf"],["size","12"],["name","comment","type","text","placeholder","\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38 \u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e40\u0e0b\u0e19\u0e15\u0e4c\u0e23\u0e31\u0e1a\u0e02\u0e2d\u0e07",3,"ngModel","ngModelChange"],["color","danger",3,"click"],[3,"src"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ion-header"),m["\u0275\u0275elementStart"](1,"ion-toolbar",0),m["\u0275\u0275elementStart"](2,"ion-buttons",1),m["\u0275\u0275element"](3,"ion-back-button"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"ion-title"),m["\u0275\u0275text"](5,"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e2a\u0e48\u0e07\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"ion-content",2),m["\u0275\u0275elementStart"](7,"div",3),m["\u0275\u0275text"](8,"\u0e25\u0e32\u0e22\u0e40\u0e0b\u0e19\u0e15\u0e4c"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"ion-row",4),m["\u0275\u0275element"](10,"ion-col"),m["\u0275\u0275elementStart"](11,"ion-col"),m["\u0275\u0275elementStart"](12,"signature-pad",5),m["\u0275\u0275listener"]("onBeginEvent",(function(){return t.drawStart()}))("onEndEvent",(function(){return t.drawComplete()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](13,"ion-col"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"ion-row"),m["\u0275\u0275elementStart"](15,"ion-col"),m["\u0275\u0275elementStart"](16,"ion-button",6),m["\u0275\u0275listener"]("click",(function(){return t.AccessCamera()})),m["\u0275\u0275elementStart"](17,"ion-icon",7),m["\u0275\u0275text"](18," Camera"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"ion-button",6),m["\u0275\u0275listener"]("click",(function(){return t.AccessGallery()})),m["\u0275\u0275elementStart"](20,"ion-icon",8),m["\u0275\u0275text"](21," Gallery"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"ion-row"),m["\u0275\u0275elementStart"](23,"ion-col"),m["\u0275\u0275template"](24,h,1,1,"img",9),m["\u0275\u0275template"](25,S,3,0,"ion-button",10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"ion-row"),m["\u0275\u0275elementStart"](27,"ion-col",11),m["\u0275\u0275elementStart"](28,"ion-item"),m["\u0275\u0275elementStart"](29,"ion-input",12),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.comment=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](30,"ion-footer"),m["\u0275\u0275elementStart"](31,"ion-grid"),m["\u0275\u0275elementStart"](32,"ion-row"),m["\u0275\u0275elementStart"](33,"ion-col"),m["\u0275\u0275elementStart"](34,"ion-button",13),m["\u0275\u0275listener"]("click",(function(){return t.clearPad()})),m["\u0275\u0275text"](35,"Clear"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](36,"ion-button",6),m["\u0275\u0275listener"]("click",(function(){return t.savePad()})),m["\u0275\u0275text"](37,"Save"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](5,f,t.isDrawing)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("options",t.signaturePadOptions),m["\u0275\u0275advance"](12),m["\u0275\u0275property"]("ngIf",t.base64Image),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.base64Image),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngModel",t.comment))},directives:[o.n,o.B,o.g,o.c,o.d,o.A,o.k,o.a,o.w,i.h,o.j,p.SignaturePad,o.f,o.o,i.j,o.q,o.p,o.J,a.d,a.g,o.l,o.m],styles:[""]}),e})()}];let E=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.b,a.b,o.C,r.h.forChild(b),p.SignaturePadModule]]}),e})()}}]);