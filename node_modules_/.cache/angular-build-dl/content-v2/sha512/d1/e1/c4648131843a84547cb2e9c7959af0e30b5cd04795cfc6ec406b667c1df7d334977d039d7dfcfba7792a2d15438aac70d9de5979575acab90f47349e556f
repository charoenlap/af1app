{"version":3,"sources":["./src/app/members/dashboard/scan-barcode-job/scan-barcode-job.page.html","./src/app/members/dashboard/scan-barcode-job/scan-barcode-job.page.scss","./src/app/members/dashboard/scan-barcode-job/scan-barcode-job.module.ts","./src/app/members/dashboard/scan-barcode-job/scan-barcode-job.page.ts"],"names":[],"mappings":"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","file":"dashboard-scan-barcode-job-scan-barcode-job-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"header\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>แสกนบาร์โคด Connote ส่งของ</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<form #form=\\\"ngForm\\\" (ngSubmit)=\\\"submitForm()\\\" >\\n\\t\\t<ion-grid >\\n\\t        <ion-row>\\n\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t          \\t<ion-item>\\n\\t\\t\\t\\t\\t  <ion-input [(ngModel)]=\\\"barcode\\\" name=\\\"barcode\\\" type=\\\"text\\\" placeholder=\\\"หมายเลขบาร์โค้ด\\\" required></ion-input>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t        \\t</ion-col>\\n\\t        </ion-row>\\n\\t        <ion-row>\\n\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t\\t  <ion-button expand=\\\"full\\\" type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"form.invalid\\\" >ยืนยัน บาร์โค้ด</ion-button>\\n\\t        \\t</ion-col>\\n\\t        </ion-row>\\n\\t    </ion-grid>\\n\\t</form>\\n\\t<ion-item *ngFor=\\\"let result of barcodePush\\\">\\n\\t\\t<ion-row>\\n        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t<ion-label>{{result}}</ion-label>\\n        \\t</ion-col>\\n        </ion-row>\\n    </ion-item>\\n</ion-content>\\n\";","export default \".header {\\n  padding: 20px 0;\\n  --background: #3f51b5;\\n}\\n\\n.header ion-title,\\n.header ion-back-button {\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9kYXNoYm9hcmQvc2Nhbi1iYXJjb2RlLWpvYi9zY2FuLWJhcmNvZGUtam9iLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGVBQUE7RUFDQSxxQkFBQTtBQUNEOztBQUNBOztFQUVDLFdBQUE7QUFFRCIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvZGFzaGJvYXJkL3NjYW4tYmFyY29kZS1qb2Ivc2Nhbi1iYXJjb2RlLWpvYi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaGVhZGVyIHtcclxuXHRwYWRkaW5nOiAyMHB4IDA7XHJcblx0LS1iYWNrZ3JvdW5kOiAjM2Y1MWI1O1xyXG59XHJcbi5oZWFkZXIgaW9uLXRpdGxlLFxyXG4uaGVhZGVyIGlvbi1iYWNrLWJ1dHRvbiB7XHJcblx0Y29sb3I6ICNmZmY7XHJcbn0iXX0= */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanBarcodeJobPage } from './scan-barcode-job.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScanBarcodeJobPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ScanBarcodeJobPage]\n})\nexport class ScanBarcodeJobPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { Toast } from '@ionic-native/toast/ngx';\nimport { Storage } from '@ionic/storage';\nimport { ToastController } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { RestApiService } from '../../../rest-api.service';\n\n@Component({\n  selector: 'app-scan',\n  templateUrl: './scan-barcode-job.page.html',\n  styleUrls: ['./scan-barcode-job.page.scss'],\n})\nexport class ScanBarcodeJobPage implements OnInit {\n  emp_key:any;\n  barcode: any;\n  textPrint:any;\n  barcodePush:any=[];\n  connote_new:any=[];\n  options:any;\n  constructor(\n    public api: RestApiService,\n    private barcodeScanner: BarcodeScanner,\n    private toast: Toast,\n    private storage: Storage,\n    public router: Router,\n    public route: ActivatedRoute,\n    public loadingController: LoadingController,\n    public toastController: ToastController) { }\n\n  ngOnInit() {\n  \tthis.scan();\n  }\n  \n  scan() {\n    this.options = {\n      // formats: \"QR_CODE\",\n      prompt : \"Place a barcode inside the scan area\",\n      // orientation : \"landscape\",\n      disableSuccessBeep: false,\n      resultDisplayDuration: 500,\n      saveHistory: true,\n      // torchOn: true,\n      showTorchButton : true,\n      showFlipCameraButton : true,\n      // preferFrontCamera : false\n    }\n  \tthis.barcodeScanner.scan(this.options).then((barcodeData) => {\n  \t\tthis.barcode = barcodeData.text;\n      if (barcodeData.cancelled) {\n        console.log(\"User cancelled the action!\");\n        return false;\n      }\n      if(this.barcode!=''){\n        this.barcodePush.push(this.barcode);\n        // console.log(this.barcodePush);\n        this.storage.set('keyOfDataJob', JSON.stringify(this.barcodePush));\n        this.alert(this.barcode);\n        this.connote_new.push(this.barcode);\n        \n        this.sendData(this.barcode);\n\n      }\n      this.scan();\n      // this.barcode = '';\n  \t}, (err) => {\n    \tthis.toast.show(err, '5000', 'center').subscribe(\n\t      toast => {\n\t        console.log(toast);\n\t      }\n\t    );\n\t  });\n  }\n  \n  \n  async submitForm(){\n    if(this.barcode!=''){\n      this.sendData(this.barcode);\n      // this.barcodePush.push(this.barcode);\n      // // this.barcodePush.push(this.barcode);\n      // // this.storage.set('keyOfDataJob', JSON.stringify(this.barcodePush));\n      // // // this.alert(this.barcode);\n      // // this.connote_new.push(this.barcode);\n\n      // // Start \n      // this.storage.get('emp_key').then((val) => {\n      //   this.emp_key = val.toString();\n      // });\n      // const loading = await this.loadingController.create({\n      // // content: 'Loading'\n      // });\n      // await loading.present();\n      // await this.api.createJob(this.barcode,this.emp_key)\n      // .subscribe(res => {\n      //   console.log(res);\n      //   // this.barcodePush.push(this.barcode);\n      //   // alert(res.result);\n      //   this.alert(res.result);\n\n      //   // this.getJobDetail();\n      //   loading.dismiss();\n      //   // this.router.navigateByUrl('/members/dashboard/job');\n      //   // this.router.navigate(['/members/dashboard/job']);\n      // }, err => {\n      //   console.log(err);\n      //   loading.dismiss();\n      // });\n      // // End\n\n      // // console.log(this.connote_new);\n      // this.barcode = '';\n    }\n\n\n    \n\n\n    // this.storage.get('keyOfDataJob').then((val) => {\n    //   if(val!=''){\n    //     this.connote_new = JSON.parse(val);\n    //   }\n    // });\n  \t// this.toast.show('Submit', '200', 'center').subscribe(\n   //    toast => {\n   //      // console.log(toast);\n   //    }\n   //  );\n   // this.storage.get('keyOfDataJob').then((val) => {\n   //    console.log(val);\n   //    // this.textPrint = JSON.parse(val);\n   //  });\n  }\n  async sendData(barcode){\n    var duplicate = false;  \n    for (var i = 0; i <= this.barcodePush.length - 1; i++) {\n      if(this.barcodePush[i]==this.barcode){\n        duplicate = true;\n      }\n    }\n    if(duplicate){\n\n    }else{\n\n\n    const loading = await this.loadingController.create({\n    \n    });\n    await loading.present();\n    // Start \n    this.storage.get('emp_key').then((val) => {\n      this.emp_key = val;\n      this.api.createJob(barcode,this.emp_key).subscribe(res => {\n        console.log(res);\n        // alert(res.result);\n        this.alert(res.result);\n        this.barcodePush.push(this.barcode);\n        // this.barcodePush.push(barcode);\n        // this.getJobDetail();\n        loading.dismiss();\n        // this.router.navigateByUrl('/members/dashboard/job');\n        // this.router.navigate(['/members/dashboard/job']);\n      }, err => {\n        console.log(err);\n        loading.dismiss();\n      });\n    });\n    \n   }\n    // End\n  }\n  removeBarcode(){\n    this.storage.set('keyOfDataJob', '');\n  }\n  async alert(result){\n     const toast = await this.toastController.create({\n          message: 'Add connote '+result,\n          duration: 2000\n        });\n\n        toast.present();\n   }\n   \n}\n"],"sourceRoot":"webpack:///"}