{"version":3,"sources":["./src/app/members/dashboard/job-detail/job-detail.page.scss","./src/app/members/dashboard/job-detail/job-detail.page.ts","./src/app/members/dashboard/job-detail/job-detail.page.html","./src/app/members/dashboard/job-detail/job-detail.module.ts"],"names":[],"mappings":"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","file":"dashboard-job-detail-job-detail-module-es2015.js","sourcesContent":["export default \".header {\\n  padding: 20px 0;\\n  --background: #3f51b5;\\n}\\n\\n.header ion-title,\\n.header ion-back-button {\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9kYXNoYm9hcmQvam9iLWRldGFpbC9qb2ItZGV0YWlsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGVBQUE7RUFDQSxxQkFBQTtBQUNEOztBQUNBOztFQUVDLFdBQUE7QUFFRCIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvZGFzaGJvYXJkL2pvYi1kZXRhaWwvam9iLWRldGFpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaGVhZGVyIHtcclxuXHRwYWRkaW5nOiAyMHB4IDA7XHJcblx0LS1iYWNrZ3JvdW5kOiAjM2Y1MWI1O1xyXG59XHJcbi5oZWFkZXIgaW9uLXRpdGxlLFxyXG4uaGVhZGVyIGlvbi1iYWNrLWJ1dHRvbiB7XHJcblx0Y29sb3I6ICNmZmY7XHJcbn1cclxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { RestApiService } from '../../../rest-api.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-job-detail',\n  templateUrl: './job-detail.page.html',\n  styleUrls: ['./job-detail.page.scss'],\n})\nexport class JobDetailPage implements OnInit {\n\tdetail: any = {};\n\tconnotes: any;\n\tconnote_new:any;\n\tid_booking:any;\n\tcount_connotes:any;\n  constructor(public api: RestApiService,\n  public loadingController: LoadingController,\n  public route: ActivatedRoute,\n  public router: Router,\n  public callNumber: CallNumber,\n  private storage: Storage,\n  ) { }\n\n  ngOnInit() {\n  \tthis.getJobDetail();\n  }\n  ionViewWillEnter(){\n  \tthis.getJobDetail();\n    // this.storage.get('keyOfData').then((val) => {\n    // \tif(val!=''){\n\t   //  \tthis.connote_new = JSON.parse(val);\n\t   //  }\n    // });\n  }\n  async getJobDetail() {\n  \t\tthis.id_booking = this.route.snapshot.paramMap.get('id');\n\t  \tconst loading = await this.loadingController.create({\n\t    // content: 'Loading'\n\t  \t});\n\t  \tawait loading.present();\n\t  \tawait this.api.getJobDetailCount(this.route.snapshot.paramMap.get('id'))\n\t    .subscribe(res => {\n\t      // console.log(res);\n\t      this.detail = res.data;\n\t      // console.log(res.data.connotes);\n\t      this.count_connotes = res.connote_count;\n\t      console.log(this.connotes);\n\t      // console.log(this.detail);\n\t      loading.dismiss();\n\t    }, err => {\n\t      console.log(err);\n\t      loading.dismiss();\n\t    });\n\t    this.storage.get('keyOfData').then((val) => {\n\t    \t// console.log(val);\n\t    \tif(val!=''){\n\t\t    \t// this.connote_new = JSON.parse(val);\n\t\t    \tthis.storage.set('keyOfData', '');\n\t\t    }\n\t      // console.log(JSON.parse(val));\n\t      // this.textPrint = JSON.parse(val);\n\t    });\n\t}\n\tasync callNow(number) {\n\t    this.callNumber.callNumber(number, true)\n\t      .then(res => console.log('Launched dialer!', res))\n\t      .catch(err => console.log('Error launching dialer', err));\n\t}\n\tasync notAccept(id){\n\t\tconst loading = await this.loadingController.create({\n\t    // content: 'Loading'\n\t  \t});\n\t\tawait loading.present();\n\t  \tawait this.api.updateJob(this.route.snapshot.paramMap.get('id'),'pending')\n\t    .subscribe(res => {\n\t      this.getJobDetail();\n\t      loading.dismiss();\n\t      // this.router.navigateByUrl('/members/dashboard/job');\n\t      // this.router.navigate(['/members/dashboard/job']);\n\t    }, err => {\n\t      console.log(err);\n\t      loading.dismiss();\n\t    });\n\t}\n\tasync accept(){\n\t\tconst loading = await this.loadingController.create({\n\t    // content: 'Loading'\n\t  \t});\n\t\tawait loading.present();\n\t  \tawait this.api.updateJob(this.route.snapshot.paramMap.get('id'),'inprogress')\n\t    .subscribe(res => {\n\t      this.getJobDetail();\n\t      loading.dismiss();\n\t      // this.router.navigateByUrl('/members/dashboard/job');\n\t      // this.router.navigate(['/members/dashboard/job']);\n\t    }, err => {\n\t      console.log(err);\n\t      loading.dismiss();\n\t    });\n\t}\n\tasync jobCancle(){\n\t\tthis.connote_new = [];\n\t\tthis.router.navigate(['members/dashboard/job']);\n\t}\n\tasync jobConfirm(id_booking){\n\t\tthis.router.navigate(['members/job-confirm/'+id_booking]);\n\t}\n\tasync listJob(){\n\t\tthis.router.navigate(['members/dashboard/job']);\n\t}\n}\n","export default \"<ion-header>\\n  <ion-toolbar class=\\\"header\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"warning\\\" expand=\\\"full\\\" (click)=\\\"listJob()\\\">< กลับ</ion-button>\\n    </ion-buttons>\\n    <ion-title>รับสินค้า {{detail.key}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-card>\\n\\t  <ion-card-content>\\n\\t    <ion-grid >\\n\\t        <ion-row>\\n\\t        \\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t\\t<ion-label>{{detail.person}}</ion-label>\\n\\t        \\t</ion-col>\\n\\t        \\t<ion-col size=\\\"6\\\">\\n\\t        \\t\\t<ion-label>\\n\\t        \\t\\t\\t<a button icon-start ion-button full (click)=\\\"callNow(detail.mobile)\\\">\\n\\t\\t\\t\\t\\t\\t    <ion-icon name=\\\"call\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t    <i class=\\\"icon ion-ios-telephone\\\"></i> <strong>{{detail.mobile}}</strong>\\n\\t\\t\\t\\t\\t    </a>\\n\\t\\t\\t\\t\\t</ion-label>\\n\\t        \\t</ion-col>\\n\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t\\t<ion-label>{{detail.customer_name}}</ion-label>\\n\\t        \\t</ion-col>\\n\\t        \\t<ion-col size=\\\"12\\\">\\n\\t        \\t\\t<ion-label>{{detail.district}} {{detail.province}} {{detail.postcode}}</ion-label>\\n\\t        \\t</ion-col>\\n\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t\\t<ion-label>เวลารับสินค้า {{detail.get_datetime}}</ion-label>\\n\\t        \\t</ion-col>\\n\\t        </ion-row>\\n\\t        <ion-row *ngIf=\\\"detail.status == 'new'\\\">\\n\\t\\t\\t\\t<ion-col size=\\\"5\\\">\\n\\t\\t\\t\\t\\t<ion-button color=\\\"danger\\\" expand=\\\"full\\\" (click)=\\\"notAccept(detail.id)\\\">ไม่รับ</ion-button>\\n\\t        \\t</ion-col>\\n\\t        \\t<ion-col size=\\\"7\\\">\\n\\t\\t\\t\\t\\t<ion-button color=\\\"primary\\\" expand=\\\"full\\\" (click)=\\\"accept()\\\">รับ</ion-button>\\n\\t        \\t</ion-col>\\n\\t        </ion-row>\\n\\t\\t</ion-grid>\\n\\t  </ion-card-content>\\n\\t</ion-card>\\n\\t<ion-card>\\n\\t  \\t<ion-card-content>\\n\\t    \\t<ion-grid >\\n\\t    \\t\\t<ion-row>\\n\\t\\t\\t    \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t    \\t\\t<b>จำนวน connote ทั้งหมด {{count_connotes}} connote</b>\\n\\t\\t\\t    \\t</ion-col>\\n\\t\\t\\t    </ion-row>\\n\\n\\t    \\t\\t<ion-row *ngIf=\\\"detail.status == 'inprogress'\\\">\\n\\t\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t\\t\\t<ion-button color=\\\"dark\\\" expand=\\\"full\\\" routerLink=\\\"/members/scan/{{id_booking}}\\\">เพิ่ม/แก้ไข connote</ion-button>\\n\\t\\t        \\t</ion-col>\\n\\t\\t        </ion-row>\\n\\t    \\t\\t\\n\\t\\t\\t    \\n\\t\\t\\t\\t<ion-row *ngIf=\\\"detail.status == 'inprogress'\\\">\\n\\t\\t        \\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t\\t\\t<ion-button color=\\\"danger\\\" expand=\\\"full\\\" (click)=\\\"jobCancle()\\\">ยกเลิก</ion-button>\\n\\t\\t        \\t</ion-col>\\n\\t\\t        \\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t\\t\\t<ion-button color=\\\"primary\\\" expand=\\\"full\\\" (click)=\\\"jobConfirm(detail.id_booking)\\\">ยืนยันรับสินค้า</ion-button>\\n\\t\\t        \\t</ion-col>\\n\\t\\t        </ion-row>\\n\\t\\t        <ion-row *ngIf=\\\"detail.status == 'pending'\\\">\\n\\t\\t        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t\\t\\t<ion-button color=\\\"danger\\\" expand=\\\"full\\\"  routerLink=\\\"/members/dashboard/job\\\">คลิกที่นี่เพื่อย้อนกลับ</ion-button>\\n\\t\\t        \\t</ion-col>\\n\\t\\t        </ion-row>\\n\\t        </ion-grid>\\n\\t  \\t</ion-card-content>\\n\\t</ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { JobDetailPage } from './job-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: JobDetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [JobDetailPage]\n})\nexport class JobDetailPageModule {}\n"],"sourceRoot":"webpack:///"}