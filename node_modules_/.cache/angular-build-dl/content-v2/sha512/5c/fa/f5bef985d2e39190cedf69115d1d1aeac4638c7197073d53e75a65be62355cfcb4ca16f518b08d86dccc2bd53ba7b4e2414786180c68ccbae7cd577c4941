{"version":3,"sources":["webpack:///src/app/members/dashboard/scan-job/scan-job.page.html","webpack:///src/app/members/dashboard/scan-job/scan-job.page.ts","webpack:///src/app/members/dashboard/scan-job/scan-job.module.ts","webpack:///src/app/members/dashboard/scan-job/scan-job.page.scss"],"names":["ScanJobPage","api","barcodeScanner","toast","storage","router","route","loadingController","toastController","barcodePush","connote_new","count_connote","getSend","create","loading","sends","present","get","then","val","subscribe","res","console","log","result","data","dismiss","err","message","deleteJob","Number","index","indexOf","splice","alert","desc","options","prompt","disableSuccessBeep","resultDisplayDuration","saveHistory","showTorchButton","showFlipCameraButton","scan","barcodeData","barcode","text","cancelled","check_loop","forEach","snap","sendData","show","set","JSON","stringify","parse","duplicate","i","length","emp_key","createJob","push","duration","selector","template","routes","path","component","ScanJobPageModule","imports","forChild","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCeFA,WAAW;AAUtB,6BACSC,GADT,EAEUC,cAFV,EAGUC,KAHV,EAIUC,OAJV,EAKSC,MALT,EAMSC,KANT,EAOSC,iBAPT,EAQSC,eART,EAQ2C;AAAA;;AAPlC,eAAAP,GAAA,GAAAA,GAAA;AACC,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACD,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AAfT,eAAAC,WAAA,GAAgB,EAAhB;AACA,eAAAC,WAAA,GAAgB,EAAhB;AAGA,eAAAC,aAAA,GAAqB,CAArB;AAW8C;;AAlBxB;AAAA;AAAA,qCAoBX;AACV,iBAAKC,OAAL;AACA;AAtBqB;AAAA;AAAA,oCAuBT;;;;;;;;;;AACO,6BAAM,KAAKL,iBAAL,CAAuBM,MAAvB,CAA8B,CACpD;AADoD,uBAA9B,CAAN;;;AAAVC,6B;AAGN,2BAAKC,KAAL,GAAa,EAAb;;AACA,6BAAMD,OAAO,CAACE,OAAR,EAAN;;;AACA,2BAAKZ,OAAL,CAAaa,GAAb,CAAiB,SAAjB,EAA4BC,IAA5B,CAAiC,UAACC,GAAD,EAAS;AACxC;AACA,6BAAI,CAAClB,GAAL,CAASW,OAAT,CAAiBO,GAAjB,EAAsBC,SAAtB,CAAgC,UAAAC,GAAG,EAAI;AACrCC,iCAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,8BAAGA,GAAG,CAACG,MAAJ,IAAY,SAAf,EAAyB;AACvB,iCAAI,CAACT,KAAL,GAAaM,GAAG,CAACI,IAAjB;AAED,2BALoC,CAOrC;AACA;;;AACAX,iCAAO,CAACY,OAAR;AAED,yBAXD,EAWG,UAAAC,GAAG,EAAI;AACRL,iCAAO,CAACC,GAAR,CAAYI,GAAZ;AACAb,iCAAO,CAACY,OAAR;AACD,yBAdD;AAeH,uBAjBC;;;;;;;;;AAmBD;AAhDmB;AAAA;AAAA,oCAiDNE,OAjDM,EAiDS;;;;;;;;;;AACb,6BAAM,KAAKrB,iBAAL,CAAuBM,MAAvB,CAA8B,EAA9B,CAAN;;;AAAVC,6B;;AACN,6BAAMA,OAAO,CAACE,OAAR,EAAN;;;AACA,2BAAKf,GAAL,CAAS4B,SAAT,CAAmBD,OAAnB,EAA4BR,SAA5B,CAAsC,UAAAC,GAAG,EAAI;AAC3CC,+BAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,4BAAGA,GAAG,CAACG,MAAJ,IAAY,SAAf,EAAyB;AACvB,gCAAI,CAACb,aAAL,GAAqBmB,MAAM,CAAC,MAAI,CAACnB,aAAN,CAAN,GAA6B,CAAlD;;AACA,8BAAG,MAAI,CAACA,aAAL,GAAmB,CAAtB,EAAwB;AAClB,kCAAI,CAACA,aAAL,GAAqB,CAArB;AACD;;AACL,8BAAMoB,KAAK,GAAW,MAAI,CAACtB,WAAL,CAAiBuB,OAAjB,CAAyBJ,OAAzB,CAAtB;;AACA,8BAAIG,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,kCAAI,CAACtB,WAAL,CAAiBwB,MAAjB,CAAwBF,KAAxB,EAA+B,CAA/B;AACH;;AACDjB,iCAAO,CAACY,OAAR,GATuB,CAUvB;AACA;;AAEA,gCAAI,CAACQ,KAAL,CAAWb,GAAG,CAACG,MAAJ,GAAW,GAAX,GAAeH,GAAG,CAACc,IAA9B;AACD,yBAdD,MAcK;AACH,gCAAI,CAACD,KAAL,CAAWb,GAAG,CAACG,MAAJ,GAAW,GAAX,GAAeH,GAAG,CAACc,IAA9B;AACD;AAEF,uBApBD,EAoBG,UAAAR,GAAG,EAAI;AACR,8BAAI,CAACO,KAAL,CAAWP,GAAX;;AACAL,+BAAO,CAACC,GAAR,CAAYI,GAAZ;AACAb,+BAAO,CAACY,OAAR;AACD,uBAxBD,E,CA2BA;;;;;;;;;AACD;AAhFqB;AAAA;AAAA,iCAiFf;AAAA;;AACL,iBAAKU,OAAL,GAAe;AACb;AACAC,oBAAM,EAAG,+BAFI;AAGb;AACAC,gCAAkB,EAAE,KAJP;AAKbC,mCAAqB,EAAE,GALV;AAMbC,yBAAW,EAAE,IANA;AAOb;AACAC,6BAAe,EAAG,IARL;AASbC,kCAAoB,EAAG;AATV,aAAf;AAYD,iBAAKxC,cAAL,CAAoByC,IAApB,CAAyB,KAAKP,OAA9B,EAAuClB,IAAvC,CAA4C,UAAC0B,WAAD,EAAiB;AAC5D,oBAAI,CAACC,OAAL,GAAeD,WAAW,CAACE,IAA3B;;AACE,kBAAIF,WAAW,CAACG,SAAhB,EAA2B;AACzBzB,uBAAO,CAACC,GAAR,CAAY,4BAAZ;AACA,uBAAO,KAAP;AACD;;AACD,oBAAI,CAACyB,UAAL,GAAkB,CAAlB;;AACA,kBAAG,MAAI,CAACH,OAAL,IAAc,EAAjB,EAAoB;AAClB,sBAAI,CAACpC,WAAL,CAAiBwC,OAAjB,CAAyB,UAACC,IAAD,EAAU;AACjC,sBAAGA,IAAI,IAAE,MAAI,CAACL,OAAd,EAAsB;AACpB,0BAAI,CAACG,UAAL,GAAkB,CAAlB;AACD;AACF,iBAJD;;AAKA,oBAAG,MAAI,CAACA,UAAL,IAAmB,CAAtB,EAAwB;AAEtB,wBAAI,CAACG,QAAL,CAAc,MAAI,CAACN,OAAnB;;AAEA,wBAAI,CAAC1C,KAAL,CAAWiD,IAAX,CAAgBR,WAAW,CAACE,IAA5B,EAAkC,KAAlC,EAAyC,QAAzC,EAAmD1B,SAAnD,CACE,UAAAjB,KAAK,EAAI;AACPmB,2BAAO,CAACC,GAAR,CAAYpB,KAAZ;AACD,mBAHH;AAKD,iBATD,MASK;AACH,wBAAI,CAAC+B,KAAL,CAAW,MAAI,CAACW,OAAL,GAAe,GAAf,GAAqB,aAAhC;AACD;AACF,eAzByD,CA2B1D;;AACF,aA5BD,EA4BG,UAAClB,GAAD,EAAS;AACV,oBAAI,CAACxB,KAAL,CAAWiD,IAAX,CAAgBzB,GAAhB,EAAqB,MAArB,EAA6B,QAA7B,EAAuCP,SAAvC,CACE,UAAAjB,KAAK,EAAI;AACPmB,uBAAO,CAACC,GAAR,CAAYpB,KAAZ;AACD,eAHH;AAKD,aAlCD;AAmCA;AAjIqB;AAAA;AAAA,uCAoIN;;;;;;;;AACd,0BAAG,KAAK0C,OAAL,IAAc,EAAjB,EAAoB;AAClB,6BAAKM,QAAL,CAAc,KAAKN,OAAnB,EADkB,CAElB;AACA;;AACA,6BAAKzC,OAAL,CAAaiD,GAAb,CAAiB,cAAjB,EAAiCC,IAAI,CAACC,SAAL,CAAe,KAAK9C,WAApB,CAAjC,EAJkB,CAKlB;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACD;;AAMD,2BAAKL,OAAL,CAAaa,GAAb,CAAiB,cAAjB,EAAiCC,IAAjC,CAAsC,UAACC,GAAD,EAAS;AAC7C,4BAAGA,GAAG,IAAE,EAAR,EAAW;AACT,gCAAI,CAACT,WAAL,GAAmB4C,IAAI,CAACE,KAAL,CAAWrC,GAAX,CAAnB;AACD;AACF,uBAJD,E,CAKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AACA;AA5LqB;AAAA;AAAA,mCA6LP0B,OA7LO,EA6LA;;;;;;;;;AAEhBY,+B,GAAY,K;;AAChB,2BAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,IAAI,KAAKjD,WAAL,CAAiBkD,MAAjB,GAA0B,CAA/C,EAAkDD,CAAC,EAAnD,EAAuD;AACrD,4BAAG,KAAKjD,WAAL,CAAiBiD,CAAjB,KAAqB,KAAKb,OAA7B,EAAqC;AACnCY,mCAAS,GAAG,IAAZ;AACD;AACF;;2BACEA,S;;;;;;;;;;AAGe,6BAAM,KAAKlD,iBAAL,CAAuBM,MAAvB,CAA8B,EAA9B,CAAN;;;AAAVC,6B;;AACN,6BAAMA,OAAO,CAACE,OAAR,EAAN;;;AACA;AACA,2BAAKZ,OAAL,CAAaa,GAAb,CAAiB,SAAjB,EAA4BC,IAA5B,CAAiC,UAACC,GAAD,EAAS;AACxC,8BAAI,CAACyC,OAAL,GAAezC,GAAf;;AACA,8BAAI,CAAClB,GAAL,CAAS4D,SAAT,CAAmBhB,OAAnB,EAA2B,MAAI,CAACe,OAAhC,EAAyCxC,SAAzC,CAAmD,UAAAC,GAAG,EAAI;AACxD,8BAAGA,GAAG,CAACG,MAAJ,IAAY,SAAf,EAAyB;AAEvB;AAEA,kCAAI,CAACd,WAAL,CAAiBoD,IAAjB,CAAsB,MAAI,CAACjB,OAA3B,EAJuB,CASvB;;;AACA,kCAAI,CAAClC,aAAL,GAAqBmB,MAAM,CAAC,MAAI,CAACnB,aAAN,CAAN,GAA6B,CAAlD,CAVuB,CAYvB;;AACA,kCAAI,CAACuB,KAAL,CAAWb,GAAG,CAACG,MAAJ,GAAW,GAAX,GAAeH,GAAG,CAACc,IAAnB,GAAwB,GAAxB,GAA4B,MAAI,CAACU,OAA5C;;AACA,kCAAI,CAACpC,WAAL,CAAiBqD,IAAjB,CAAsB,MAAI,CAACjB,OAA3B,EAduB,CAevB;AACA;;;AAEA/B,mCAAO,CAACY,OAAR,GAlBuB,CAmBvB;AACA;AACA;AACD,2BAtBD,MAsBK;AACH,kCAAI,CAACQ,KAAL,CAAWb,GAAG,CAACG,MAAJ,GAAW,GAAX,GAAeH,GAAG,CAACc,IAA9B;;AACArB,mCAAO,CAACY,OAAR;AACD;AAEF,yBA5BD,EA4BG,UAAAC,GAAG,EAAI;AACR,gCAAI,CAACO,KAAL,CAAWP,GAAX;;AACAL,iCAAO,CAACC,GAAR,CAAYI,GAAZ;AACAb,iCAAO,CAACY,OAAR;AACD,yBAhCD;AAiCD,uBAnCD;;;;;;;;;AAsCH;AAjPqB;AAAA;AAAA,0CAkPT,CACX;AACD;AApPqB;AAAA;AAAA,gCAqPVF,MArPU,EAqPJ;;;;;;;;AACD,6BAAM,KAAKhB,eAAL,CAAqBK,MAArB,CAA4B;AAC3Ce,+BAAO,EAAE,iBAAeJ,MADmB;AAE3CuC,gCAAQ,EAAE;AAFiC,uBAA5B,CAAN;;;AAAR5D,2B;AAKHA,2BAAK,CAACa,OAAN;;;;;;;;;AACJ;AA5PoB;;AAAA;AAAA,S;;;;gBAPf;;gBANA;;gBACA;;gBACA;;gBAEgB;;gBAAhB;;gBALA;;gBAIA;;;;AAUIhB,iBAAW,6DALvB,gEAAU;AACTgE,gBAAQ,EAAE,UADD;AAETC,gBAAQ,EAAR,sEAFS;;AAAA,OAAV,CAKuB,E,+EAWR,gE,EACY,gF,EACT,6D,EACE,sD,EACF,sD,EACD,8D,EACY,gE,EACF,8D,EAlBJ,GAAXjE,WAAW,CAAX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNb,UAAMkE,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAgBaC,iBAAiB;AAAA;AAAA,O;;AAAjBA,uBAAiB,6DAT7B,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,6DAAaC,QAAb,CAAsBL,MAAtB,CAJO,CADD;AAORM,oBAAY,EAAE,CAAC,0DAAD;AAPN,OAAT,CAS6B,GAAjBH,iBAAiB,CAAjB;;;;;;;;;;;;;;;;ACzBb;AAAe;;;AAAA","file":"dashboard-scan-job-scan-job-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"header\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"warning\\\" expand=\\\"full\\\" routerLink=\\\"/members/dashboard/send\\\">< กลับ</ion-button>\\n    </ion-buttons>\\n    <ion-title>บาร์โคด Connote ส่งของ</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t\\n\\t<ion-item>\\n\\t\\t<ion-row>\\n        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\tจำนวน Connote ที่เพิ่ม {{count_connote}}\\n        \\t</ion-col>\\n        </ion-row>\\n\\t</ion-item>\\n\\t<ion-item *ngFor=\\\"let barcode of barcodePush\\\">\\n\\t\\t<ion-row>\\n        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t<!-- <ion-button color=\\\"danger\\\" expand=\\\"\\\" (click)=\\\"rmBarcode(barcode)\\\">\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"close\\\" ></ion-icon>\\n\\t\\t\\t\\t\\t</ion-button>  -->\\n\\t\\t\\t\\t\\t{{barcode}}\\n\\t\\t\\t\\t</ion-label>\\n        \\t</ion-col>\\n        </ion-row>\\n    </ion-item>\\n    <ion-item *ngFor=\\\"let barcode of sends\\\">\\n\\t\\t<ion-row>\\n        \\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t<!-- <ion-button color=\\\"danger\\\" expand=\\\"\\\" (click)=\\\"rmBarcode(barcode.key)\\\">\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"close\\\" ></ion-icon>\\n\\t\\t\\t\\t\\t</ion-button>  -->\\n\\t\\t\\t\\t{{barcode.key}} </ion-label>\\n        \\t</ion-col>\\n        </ion-row>\\n    </ion-item>\\n</ion-content>\\n<form #form=\\\"ngForm\\\" (ngSubmit)=\\\"submitForm()\\\" >\\n\\t<ion-grid >\\n        <ion-row>\\n        \\t<ion-col size=\\\"12\\\">\\n\\t          \\t<ion-item>\\n\\t\\t\\t\\t  <ion-input [(ngModel)]=\\\"barcode\\\" name=\\\"barcode\\\" type=\\\"text\\\" placeholder=\\\"หมายเลขบาร์โค้ด\\\" required></ion-input>\\n\\t\\t\\t\\t</ion-item>\\n        \\t</ion-col>\\n        </ion-row>\\n        <ion-row>\\n        \\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t  <ion-button expand=\\\"full\\\" type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"form.invalid\\\" >ยืนยัน บาร์โค้ด</ion-button>\\n        \\t</ion-col>\\n        \\t<ion-col size=\\\"6\\\">\\n        \\t\\t<ion-button color=\\\"dark\\\" expand=\\\"full\\\" (click)=\\\"scan()\\\">แสกน connote</ion-button>\\n        \\t</ion-col>\\n        </ion-row>\\n    </ion-grid>\\n</form>\";","import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { Toast } from '@ionic-native/toast/ngx';\nimport { Storage } from '@ionic/storage';\nimport { ToastController } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { RestApiService } from '../../../rest-api.service';\n\n@Component({\n  selector: 'app-scan',\n  templateUrl: './scan-job.page.html',\n  styleUrls: ['./scan-job.page.scss'],\n})\nexport class ScanJobPage implements OnInit {\n  barcode: any;\n  textPrint:any;\n  barcodePush:any=[];\n  connote_new:any=[];\n  options:any;\n  check_loop:any;\n  count_connote:number=0;\n  emp_key:any;\n  sends:any;\n  constructor(\n    public api: RestApiService,\n    private barcodeScanner: BarcodeScanner,\n    private toast: Toast,\n    private storage: Storage,\n    public router: Router,\n    public route: ActivatedRoute,\n    public loadingController: LoadingController,\n    public toastController: ToastController) { }\n\n  ngOnInit() {\n  \tthis.getSend();\n  }\n  async getSend(){\n      const loading = await this.loadingController.create({\n      // content: 'Loading'\n      });\n      this.sends = [];\n      await loading.present();\n      this.storage.get('emp_key').then((val) => {\n        // console.log(val);\n        this.api.getSend(val).subscribe(res => {\n          console.log(res);\n          if(res.result=='success'){\n            this.sends = res.data;\n\n          }\n          \n          // this.loginDetail = res;\n          // console.log(this.loginDetail);\n          loading.dismiss();\n          \n        }, err => {\n          console.log(err);\n          loading.dismiss();\n        });\n    });\n      \n    }\n  async rmBarcode(message: string){\n    const loading = await this.loadingController.create({ });\n    await loading.present();\n    this.api.deleteJob(message).subscribe(res => {\n      console.log(res);\n      if(res.result==\"success\"){\n        this.count_connote = Number(this.count_connote) - 1;\n        if(this.count_connote<0){\n              this.count_connote = 0;\n            }\n        const index: number = this.barcodePush.indexOf(message);\n        if (index !== -1) {\n            this.barcodePush.splice(index, 1);\n        }\n        loading.dismiss();\n        // this.router.navigateByUrl('/members/dashboard/job');\n        // this.router.navigate(['/members/dashboard/job']);\n      \n        this.alert(res.result+\" \"+res.desc);\n      }else{\n        this.alert(res.result+\" \"+res.desc);\n      }\n      \n    }, err => {\n      this.alert(err);\n      console.log(err);\n      loading.dismiss();\n    });\n\n    \n    // delete [this.barcodePush.indexOf(message)];\n  }\n  scan() {\n    this.options = {\n      // formats: \"QR_CODE\",\n      prompt : \"พยายามวางบาร์โค้ดไว้ตรงกลางจอ\",\n      // orientation : \"landscape\",\n      disableSuccessBeep: false,\n      resultDisplayDuration: 500,\n      saveHistory: true,\n      // torchOn: true,\n      showTorchButton : true,\n      showFlipCameraButton : true,\n      // preferFrontCamera : false\n    }\n  \tthis.barcodeScanner.scan(this.options).then((barcodeData) => {\n  \t\tthis.barcode = barcodeData.text;\n      if (barcodeData.cancelled) {\n        console.log(\"User cancelled the action!\");\n        return false;\n      }\n      this.check_loop = 0;\n      if(this.barcode!=''){\n        this.barcodePush.forEach((snap) => {\n          if(snap==this.barcode){\n            this.check_loop = 1;\n          }\n        });\n        if(this.check_loop == 0){\n\n          this.sendData(this.barcode);\n\n          this.toast.show(barcodeData.text, '200', 'center').subscribe(\n            toast => {\n              console.log(toast);\n            }\n          );\n        }else{\n          this.alert(this.barcode + ' ' + 'Dupplicate.');\n        }\n      }\n      \n      // this.barcode = '';\n  \t}, (err) => {\n    \tthis.toast.show(err, '5000', 'center').subscribe(\n\t      toast => {\n\t        console.log(toast);\n\t      }\n\t    );\n\t  });\n  }\n  \n  \n  async submitForm(){\n    if(this.barcode!=''){\n      this.sendData(this.barcode);\n      // this.barcodePush.push(this.barcode);\n      // // this.barcodePush.push(this.barcode);\n      this.storage.set('keyOfDataJob', JSON.stringify(this.barcodePush));\n      // // // this.alert(this.barcode);\n      // this.connote_new.push(this.barcode);\n\n      // // Start \n      // this.storage.get('emp_key').then((val) => {\n      //   this.emp_key = val.toString();\n      // });\n      // const loading = await this.loadingController.create({\n      // // content: 'Loading'\n      // });\n      // await loading.present();\n      // await this.api.createJob(this.barcode,this.emp_key)\n      // .subscribe(res => {\n      //   console.log(res);\n      //   // this.barcodePush.push(this.barcode);\n      //   // alert(res.result);\n      //   this.alert(res.result);\n\n      //   // this.getJobDetail();\n      //   loading.dismiss();\n      //   // this.router.navigateByUrl('/members/dashboard/job');\n      //   // this.router.navigate(['/members/dashboard/job']);\n      // }, err => {\n      //   console.log(err);\n      //   loading.dismiss();\n      // });\n      // // End\n\n      // // console.log(this.connote_new);\n      // this.barcode = '';\n    }\n\n\n    \n\n\n    this.storage.get('keyOfDataJob').then((val) => {\n      if(val!=''){\n        this.connote_new = JSON.parse(val);\n      }\n    });\n  \t// this.toast.show('Submit', '200', 'center').subscribe(\n   //    toast => {\n   //      // console.log(toast);\n   //    }\n   //  );\n   // this.storage.get('keyOfDataJob').then((val) => {\n   //    console.log(val);\n   //    // this.textPrint = JSON.parse(val);\n   //  });\n  }\n  async sendData(barcode){\n\n    var duplicate = false;  \n    for (var i = 0; i <= this.barcodePush.length - 1; i++) {\n      if(this.barcodePush[i]==this.barcode){\n        duplicate = true;\n      }\n    }\n    if(duplicate){\n\n    }else{\n      const loading = await this.loadingController.create({ });\n      await loading.present();\n      // Start \n      this.storage.get('emp_key').then((val) => {\n        this.emp_key = val;\n        this.api.createJob(barcode,this.emp_key).subscribe(res => {\n          if(res.result==\"success\"){\n          \n            // this.storage.set('keyOfData', JSON.stringify(this.barcodePush));\n          \n            this.connote_new.push(this.barcode);\n\n\n\n\n            // console.log(res);\n            this.count_connote = Number(this.count_connote) + 1;\n\n            // alert(res.result);\n            this.alert(res.result+' '+res.desc+' '+this.barcode);\n            this.barcodePush.push(this.barcode);\n            // this.barcodePush.push(barcode);\n            // this.getJobDetail();\n            \n            loading.dismiss();\n            // this.scan();\n            // this.router.navigateByUrl('/members/dashboard/job');\n            // this.router.navigate(['/members/dashboard/job']);\n          }else{\n            this.alert(res.result+\" \"+res.desc);\n            loading.dismiss();\n          }\n          \n        }, err => {\n          this.alert(err);\n          console.log(err);\n          loading.dismiss();\n        });\n      });\n    }\n    // End\n  }\n  removeBarcode(){\n    // this.storage.set('keyOfDataJob', '');\n  }\n  async alert(result){\n     const toast = await this.toastController.create({\n          message: 'Add connote '+result,\n          duration: 2000\n        });\n\n        toast.present();\n   }\n   \n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ScanJobPage } from './scan-job.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ScanJobPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ScanJobPage]\n})\nexport class ScanJobPageModule {}\n","export default \".header {\\n  padding: 20px 0;\\n  --background: #3f51b5;\\n}\\n\\n.header ion-title,\\n.header ion-back-button {\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9kYXNoYm9hcmQvc2Nhbi1qb2Ivc2Nhbi1qb2IucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsZUFBQTtFQUNBLHFCQUFBO0FBQ0Q7O0FBQ0E7O0VBRUMsV0FBQTtBQUVEIiwiZmlsZSI6InNyYy9hcHAvbWVtYmVycy9kYXNoYm9hcmQvc2Nhbi1qb2Ivc2Nhbi1qb2IucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlciB7XHJcblx0cGFkZGluZzogMjBweCAwO1xyXG5cdC0tYmFja2dyb3VuZDogIzNmNTFiNTtcclxufVxyXG4uaGVhZGVyIGlvbi10aXRsZSxcclxuLmhlYWRlciBpb24tYmFjay1idXR0b24ge1xyXG5cdGNvbG9yOiAjZmZmO1xyXG59Il19 */\";"]}