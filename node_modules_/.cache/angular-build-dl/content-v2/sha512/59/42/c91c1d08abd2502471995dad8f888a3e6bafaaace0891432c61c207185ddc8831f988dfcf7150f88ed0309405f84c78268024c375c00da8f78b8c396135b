(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{TdYi:function(e,t,n){"use strict";n.r(t),n.d(t,"SendDetailPageModule",(function(){return b}));var o=n("ofXK"),i=n("3Pt+"),r=n("tyNb"),l=n("c7TG"),a=n("mrSG"),d=n("HSMY"),s=n("Wwn5"),c=n("fXoL"),m=n("e8h1");function u(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"ion-row"),c["\u0275\u0275elementStart"](1,"ion-col",6),c["\u0275\u0275elementStart"](2,"ion-button",7),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.notAccept(t.detail.id)})),c["\u0275\u0275text"](3,"\u0e44\u0e21\u0e48\u0e23\u0e31\u0e1a"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"ion-col",8),c["\u0275\u0275elementStart"](5,"ion-button",9),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().accept()})),c["\u0275\u0275text"](6,"\u0e23\u0e31\u0e1a"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function p(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"ion-item"),c["\u0275\u0275elementStart"](1,"ion-row"),c["\u0275\u0275elementStart"](2,"ion-col",3),c["\u0275\u0275elementStart"](3,"ion-label"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](e)}}function g(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"ion-row"),c["\u0275\u0275elementStart"](1,"ion-col",10),c["\u0275\u0275elementStart"](2,"ion-button",7),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().sendCancle()})),c["\u0275\u0275text"](3,"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"ion-col",10),c["\u0275\u0275elementStart"](5,"ion-button",9),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.sendConfirm(t.detail.id_jobs)})),c["\u0275\u0275text"](6,"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function h(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"ion-row"),c["\u0275\u0275elementStart"](1,"ion-col",3),c["\u0275\u0275elementStart"](2,"ion-button",11),c["\u0275\u0275text"](3,"\u0e04\u0e25\u0e34\u0e01\u0e17\u0e35\u0e48\u0e19\u0e35\u0e48\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]())}const f=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i,r){this.api=e,this.loadingController=t,this.route=n,this.router=o,this.callNumber=i,this.storage=r,this.detail={}}ngOnInit(){this.getSendDetail()}ionViewWillEnter(){this.storage.get("keyOfData").then(e=>{""!=e&&(this.connote_new=JSON.parse(e))})}getSendDetail(){return Object(a.b)(this,void 0,void 0,(function*(){const e=yield this.loadingController.create({});yield e.present(),yield this.api.getSendDetail(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.detail=t.data,this.connotes=t.connotes,console.log(this.connotes),e.dismiss()},t=>{console.log(t),e.dismiss()}),this.storage.get("keyOfDataSend").then(e=>{""!=e&&(this.connote_new=JSON.parse(e))})}))}callNow(e){return Object(a.b)(this,void 0,void 0,(function*(){this.callNumber.callNumber(e,!0).then(e=>console.log("Launched dialer!",e)).catch(e=>console.log("Error launching dialer",e))}))}notAccept(e){return Object(a.b)(this,void 0,void 0,(function*(){const e=yield this.loadingController.create({});yield e.present(),yield this.api.updateSend(this.route.snapshot.paramMap.get("id"),"pending").subscribe(t=>{this.getSendDetail(),e.dismiss()},t=>{console.log(t),e.dismiss()})}))}accept(){return Object(a.b)(this,void 0,void 0,(function*(){const e=yield this.loadingController.create({});yield e.present(),yield this.api.updateSend(this.route.snapshot.paramMap.get("id"),"inprogress").subscribe(t=>{console.log(">>>"),console.log(t),this.getSendDetail(),e.dismiss()},t=>{console.log(t),e.dismiss()})}))}sendCancle(){return Object(a.b)(this,void 0,void 0,(function*(){this.router.navigate(["members/send-detail/"+this.route.snapshot.paramMap.get("id")])}))}sendConfirm(e){return Object(a.b)(this,void 0,void 0,(function*(){this.router.navigate(["members/send-confirm/"+e])}))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](l.E),c["\u0275\u0275directiveInject"](r.a),c["\u0275\u0275directiveInject"](r.f),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](m.b))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-send-detail"]],decls:28,vars:9,consts:[[1,"header"],["slot","start"],["color","warning","expand","full","routerLink","/members/dashboard/send"],["size","12"],[4,"ngIf"],[4,"ngFor","ngForOf"],["size","5"],["color","danger","expand","full",3,"click"],["size","7"],["color","primary","expand","full",3,"click"],["size","6"],["color","danger","expand","full","routerLink","/members/dashboard/send"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"ion-header"),c["\u0275\u0275elementStart"](1,"ion-toolbar",0),c["\u0275\u0275elementStart"](2,"ion-buttons",1),c["\u0275\u0275elementStart"](3,"ion-button",2),c["\u0275\u0275text"](4,"< \u0e01\u0e25\u0e31\u0e1a"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"ion-title"),c["\u0275\u0275text"](6,"\u0e2a\u0e48\u0e07\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"ion-content"),c["\u0275\u0275elementStart"](8,"ion-card"),c["\u0275\u0275elementStart"](9,"ion-card-content"),c["\u0275\u0275elementStart"](10,"ion-grid"),c["\u0275\u0275elementStart"](11,"ion-row"),c["\u0275\u0275elementStart"](12,"ion-col",3),c["\u0275\u0275elementStart"](13,"ion-label"),c["\u0275\u0275text"](14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"ion-col",3),c["\u0275\u0275elementStart"](16,"ion-label"),c["\u0275\u0275text"](17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"ion-col",3),c["\u0275\u0275elementStart"](19,"ion-label"),c["\u0275\u0275text"](20),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,u,7,0,"ion-row",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"ion-card"),c["\u0275\u0275elementStart"](23,"ion-card-content"),c["\u0275\u0275elementStart"](24,"ion-grid"),c["\u0275\u0275template"](25,p,5,1,"ion-item",5),c["\u0275\u0275template"](26,g,7,0,"ion-row",4),c["\u0275\u0275template"](27,h,4,0,"ion-row",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](14),c["\u0275\u0275textInterpolate"](t.detail.person),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](t.detail.address),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate3"]("",t.detail.district," ",t.detail.province," ",t.detail.postcode,""),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","new"==t.detail.status),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngForOf",t.connote_new),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","inprogress"==t.detail.status),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","pending"==t.detail.status))},directives:[l.n,l.B,l.g,l.f,l.I,r.g,l.A,l.k,l.h,l.i,l.m,l.w,l.j,l.r,o.j,o.i,l.q],styles:[".header[_ngcontent-%COMP%]{padding:20px 0;--background:#3f51b5}.header[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff}"]}),e})()}];let b=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.b,i.b,l.C,r.h.forChild(f)]]}),e})()}}]);